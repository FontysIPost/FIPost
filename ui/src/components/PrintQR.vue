<template>
  <div class="qr-container" @click="onClick()">
    <div class="text">
      <div class="container-header">Print QR code</div>
      <div class="qr-subheader">Pakket ID: {{ packageId }}</div>
    </div>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="100"
      height="100"
      viewBox="0 0 218.464 218.464"
    >
      <g
        id="Group_106"
        data-name="Group 106"
        transform="translate(13625.464 493.732)"
      >
        <path
          id="Path_56"
          data-name="Path 56"
          d="M81.924,0H0V81.924H81.924ZM68.27,68.27H13.654V13.654H68.27Z"
          transform="translate(-13625.464 -493.732)"
          fill="#444"
        />
        <path
          id="Path_57"
          data-name="Path 57"
          d="M2,2H29.308V29.308H2Z"
          transform="translate(-13600.156 -468.424)"
          fill="#444"
        />
        <path
          id="Path_58"
          data-name="Path 58"
          d="M0,91.924H81.924V10H0Zm13.654-68.27H68.27V78.27H13.654Z"
          transform="translate(-13625.464 -367.192)"
          fill="#444"
        />
        <path
          id="Path_59"
          data-name="Path 59"
          d="M2,12H29.308V39.308H2Z"
          transform="translate(-13600.156 -341.884)"
          fill="#444"
        />
        <path
          id="Path_60"
          data-name="Path 60"
          d="M10,0V81.924H91.924V0ZM78.27,68.27H23.654V13.654H78.27Z"
          transform="translate(-13498.924 -493.732)"
          fill="#444"
        />
        <path
          id="Path_61"
          data-name="Path 61"
          d="M12,2H39.308V29.308H12Z"
          transform="translate(-13473.616 -468.424)"
          fill="#444"
        />
        <path
          id="Path_62"
          data-name="Path 62"
          d="M27.308,7H0V34.308H40.962V20.654H27.308Z"
          transform="translate(-13625.464 -405.154)"
          fill="#444"
        />
        <path
          id="Path_63"
          data-name="Path 63"
          d="M7,9H34.308V36.308H7Z"
          transform="translate(-13536.886 -379.846)"
          fill="#444"
        />
        <path
          id="Path_64"
          data-name="Path 64"
          d="M3,7H30.308V20.654H3Z"
          transform="translate(-13587.502 -405.154)"
          fill="#444"
        />
        <path
          id="Path_65"
          data-name="Path 65"
          d="M34.308,12H7V25.654H20.654V39.308H34.308V12Z"
          transform="translate(-13536.886 -341.884)"
          fill="#444"
        />
        <path
          id="Path_66"
          data-name="Path 66"
          d="M18.654,7V20.654H5V34.308H32.308V7Z"
          transform="translate(-13562.193 -405.154)"
          fill="#444"
        />
        <path
          id="Path_67"
          data-name="Path 67"
          d="M8,4H21.654V31.308H8Z"
          transform="translate(-13524.232 -443.116)"
          fill="#444"
        />
        <path
          id="Path_68"
          data-name="Path 68"
          d="M21.654,20.654V34.308H48.962V7H8V20.654Z"
          transform="translate(-13524.232 -405.154)"
          fill="#444"
        />
        <path
          id="Path_69"
          data-name="Path 69"
          d="M7,6H20.654V19.654H7Z"
          transform="translate(-13536.886 -417.808)"
          fill="#444"
        />
        <path
          id="Path_70"
          data-name="Path 70"
          d="M9,14H36.308V41.308H9Z"
          transform="translate(-13511.578 -316.576)"
          fill="#444"
        />
        <path
          id="Path_71"
          data-name="Path 71"
          d="M7,14H20.654V41.308H7Z"
          transform="translate(-13536.886 -316.576)"
          fill="#444"
        />
        <path
          id="Path_72"
          data-name="Path 72"
          d="M9,11H22.654V24.654H9Z"
          transform="translate(-13511.578 -354.538)"
          fill="#444"
        />
        <path
          id="Path_73"
          data-name="Path 73"
          d="M34.308,40.962V13.654H20.654V0H7V54.616H20.654V40.962Z"
          transform="translate(-13536.886 -493.732)"
          fill="#444"
        />
        <path
          id="Path_74"
          data-name="Path 74"
          d="M12,14H25.654V41.308H12Z"
          transform="translate(-13473.616 -316.576)"
          fill="#444"
        />
        <path
          id="Path_75"
          data-name="Path 75"
          d="M12,12H39.308V25.654H12Z"
          transform="translate(-13473.616 -341.884)"
          fill="#444"
        />
        <path
          id="Path_76"
          data-name="Path 76"
          d="M11,13H24.654V26.654H11Z"
          transform="translate(-13486.27 -329.23)"
          fill="#444"
        />
        <path
          id="Path_77"
          data-name="Path 77"
          d="M10,12H23.654V25.654H10Z"
          transform="translate(-13498.924 -341.884)"
          fill="#444"
        />
        <path
          id="Path_78"
          data-name="Path 78"
          d="M14,10V23.654H27.654V37.308H41.308V10H14Z"
          transform="translate(-13448.309 -367.192)"
          fill="#444"
        />
        <path
          id="Path_79"
          data-name="Path 79"
          d="M27.654,13H14V53.962H41.308V26.654H27.654Z"
          transform="translate(-13448.309 -329.23)"
          fill="#444"
        />
        <path
          id="Path_80"
          data-name="Path 80"
          d="M10,22.654V36.308H50.962V9H23.654V22.654Z"
          transform="translate(-13498.924 -379.846)"
          fill="#444"
        />
        <path
          id="Path_81"
          data-name="Path 81"
          d="M12,7V20.654H39.308V34.308H66.616V7H12Z"
          transform="translate(-13473.616 -405.154)"
          fill="#444"
        />
      </g>
    </svg>
  </div>
</template>

<script lang="ts">
import pdfMake from "pdfmake/build/pdfmake";
import pdfFonts from "pdfmake/build/vfs_fonts";
import { Prop } from "vue-property-decorator";
import { Vue } from "vue-class-component";

pdfMake.vfs = pdfFonts.pdfMake.vfs;

export default class PrintQR extends Vue {
  @Prop() public packageId: String = "";
  @Prop() public receiversAddress1: String = "";
  @Prop() public receiversAddress2: String = "";
  @Prop() public receiversName: String = "";
  @Prop() public sendersName: String = "";

  onClick(): void {

    const receiversAddress1 = this.receiversAddress1;
    const receiversAddress2 = this.receiversAddress2;
    const receiversName = this.receiversName;
    const sendersName = this.sendersName;
    const dd = {
      content: [
        //{Image:  },
        { qr: this.getPackageURL(), margin: [320, 30, 0, 0] },
         { text: "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _", style: "default", margin: [0, 40, 0, 0] },
        { text: "Naam ontvanger: ", style: "default", margin: [30, -220, 0, 0] },
        { text: receiversName, style: "default", margin: [30, 0 , 0, 0] },
        "\n",
        { text: "Bezorg adres: ", style: "default", margin: [30, 0, 0, 0] },                   
        { text: receiversAddress1, style: "default", margin: [30, 0, 0, 0] },
        { text: receiversAddress2, style: "default", margin: [30, 0, 0, 0] },
        "\n",
        { text: "Naam afzender: ", style: "default", margin: [30, 0, 0, 0] },
        { text: sendersName, style: "default", margin: [30, 0, 0, 0] },
      ],
      styles: {
        default: {
          fontSize: 14,
        },
      },
    };
    pdfMake.createPdf(dd).open({}, window.open("_blank"));
    
  }

  getPackageURL() {
    return process.env.VUE_APP_URL + "/#/pakket/" + this.packageId;
  }
}
</script>

<style scoped lang="scss">
@import "@/styling/main.scss";

.qr-container {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: middle;
  background: white;
  overflow: hidden;
  padding: 3em;
  box-shadow: $shadow;
  border-radius: $border-radius;
  cursor: pointer;
}

 

.text {
  width: 55%;
  color: $black-color;
  text-align: left;
  display: flex;
  flex-direction: column;
  justify-content: center;

  .qr-subheader {
    font-size: 20px;
    margin-top: 0.5rem;
  }
}

@media only screen and (max-width: 600px) {
  svg {
    width: 50px;
    height: 50px;
  }

  .qr-container {
    padding: 2em;
  }

  .text {
    .qr-subheader {
      display: none;
    }
  }
}
</style>
